#:import win kivy.core.window

<Root>:
    Picture
    FloatLayout:
        canvas:
            Color:
                rgb: 1, 1, 1


<Picture>:
    Image:
        id: grey
        texture: root.create_texture('grey')
        pos: 10, root.pos_y
        size: root.orig_size
        allow_stretch: True
        keep_ratio: True
        pos_hint: {'center_x', 'center_y'}
    Image:
        id: blur
        texture: root.create_texture('blur')

        size: root.orig_size
        allow_stretch: True
        keep_ratio: True
        pos_hint: {'center_x', 'center_y'}
        # canvas.before:
        pos: 10, 10


    Image:
        id: mag
        texture: root.create_texture('mag')
        size: root.orig_size
        allow_stretch: False
        keep_ratio: True
        pos_hint: {'center_x', 'center_y'}
        # canvas.before:
        pos: 2*win.Window.width/4, 10

    Image:
        id: angle
        texture: root.create_texture('angle')
        size: root.orig_size
        allow_stretch: False
        keep_ratio: True
        pos_hint: {'center_x', 'center_y'}
        # canvas.before:
        pos: 2*win.Window.width/4, win.Window.height/2
    Image:
        id: sobel_y
        texture: root.create_texture('sobel_y')
        pos: 1*win.Window.width/4, 10
        size: root.orig_size
        allow_stretch: False
        keep_ratio: True
        pos_hint: {'center_x', 'center_y'}
    Image:
        id: sobel_x
        texture: root.create_texture('sobel_x')
        size: root.orig_size
        allow_stretch: False
        keep_ratio: True
        pos_hint: {'center_x', 'center_y'}
        # canvas.before:
        pos: 1*win.Window.width/4, win.Window.height/2



<Images>:
    FloatLayout:
        StencilView:

            pos: 10, root.pos_y
            size: root.orig_size
            Scatter:
                Image:
                    id: grey
                    texture: root.create_texture('grey')
                    pos: 10, root.pos_y
                    size: root.orig_size
                    allow_stretch: True
                    keep_ratio: True
                    pos_hint: {'center_x', 'center_y'}
    StencilView:
        pos: 0, 0
        size: win.Window.width, win.Window.height
        Image:
            id: mag
            texture: root.create_texture('mag')
            pos: 2*win.Window.width/4, 10
            size: root.orig_size
            allow_stretch: False
            keep_ratio: True
            pos_hint: {'center_x', 'center_y'}
        Image:
            id: angle
            texture: root.create_texture('angle')
            pos: 2*win.Window.width/4, win.Window.height/2
            size: root.orig_size
            allow_stretch: False
            keep_ratio: True
            pos_hint: {'center_x', 'center_y'}

        Image:
            id: sobel_y
            texture: root.create_texture('sobel_y')
            pos: 1*win.Window.width/4, 10
            size: root.orig_size
            allow_stretch: False
            keep_ratio: True
            pos_hint: {'center_x', 'center_y'}
        Image:
            id: sobel_x
            texture: root.create_texture('sobel_x')
            pos: 1*win.Window.width/4, win.Window.height/2
            size: root.orig_size
            allow_stretch: False
            keep_ratio: True
            pos_hint: {'center_x', 'center_y'}
